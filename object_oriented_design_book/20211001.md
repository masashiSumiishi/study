# 20211001

- 設計を決める時
クラスを設計し始めた時に、将来の変更を全て把握することは出来ない。
そのため、何もしない事による将来的なコストが今と変わらない時は、設計の決定を延期する。
設計は、その時持っている情報を使い、その時点での設計を行う。将来的な変更は、その将来的な変更が発生した時に改めて考える。

- 変更を歓迎するコードを書く
  - データではなく、振る舞いに依存させる。
  振る舞いはメソッド内に捉えられており、メッセージを送る事によって実行できる。
  単一責任のクラスを作れば、どんな些細な振る舞いもそれぞれが1箇所のみに存在するようになっている。
  データではなく、振る舞いに依存させるためには、インスタンス変数の隠蔽とデータ構造の隠蔽を行う必要がある。

  - インスタンス変数の隠蔽は、アクセサメソッドを使用し実現する。
  2次元配列を使用するとデータ構造へ依存する。どこに何の値が入っているかを把握しておく必要が出てくるため、依存が生じる。
  そのため、RubyのStructメソッドを使用したりし、配列の構造に依存しないようにする必要がある。

  - あらゆる箇所を単一責任にする。
    - メソッドから余計な責任を抽出する
    メソッドもクラスと同様に単一の責任を持つべきである。
    単一責任にする事によって、メソッドの変更も再利用も簡単になる。
    クラスの設計と同様に、メソッドに役割が何なのかを問い、一文で責任を説明できるようにする。

- オブジェクトの依存
一方のオブジェクトに変更を加えた時、他方のオブジェクトも変更せざるを得ない恐れがあるならば、片方に依存していると言える。
オブジェクトが以下の事柄を知るような設計になっている場合、オブジェクトには依存関係があると言える。
  - 他のクラスの名前
  - self以外のどこかに送ろうとするメッセージの名前
  - メッセージが要求する引数
  - 引数の順番

今日の進捗
クラスが単一責任であるかどうかを見極める 〜 依存オブジェクトの注入
